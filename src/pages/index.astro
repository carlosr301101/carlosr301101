---
import BaseLayout from '../layouts/BaseLayout.astro'
import HorizontalCard from '../components/HorizontalCard.astro'
import { getCollection } from 'astro:content'
import createSlug from '../lib/createSlug'

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
)

const last_posts = posts.slice(0, 3)
---

<BaseLayout sideBarActiveItemID="home">
	<div class="mt-5 pb-12">
		<div class="py-1 text-xl">Hey there ğŸ‘‹</div>
		<div class="text-5xl font-bold">I'm Carlos Rafael</div>
		<div class="py-3 text-3xl font-bold">
			<h1>a Nuclear and Power Engineer interested in Software</h1>
		</div>
		<div class="py-2">
			<text class="text-lg">
				Bridging the gap between nuclear science and cutting-edge software development. Passionate
				about solving complex problems through code and advancing <b>Math</b> and <b>Physics.</b>ğŸ§‘â€ğŸ”¬
			</text>
		</div>
		<div class="mt-8">
			<a
				class="btn"
				href="mailto:carlosr301101@gmail.com?subject=Let's make a contact"
				target="_blank"
			>
				Let's connect!</a
			>
		</div>
	</div>

	<div>
		<div class="mb-2 w-full text-3xl font-bold">My last projects ğŸ“¦</div>
	</div>
	<HorizontalCard
		title="Prefab Habana Solutions Landing Page"
		img="/prefabhabana.webp"
		desc="Landing page for Prefab Habana Solutions, a company specializing in the design and construction of prefabricated modular homes. The website showcases their services, portfolio, and contact information, providing an engaging user experience."
		url="https://prefabhabana.com"
		badge="Wordpress"
		loading="eager"
	/>
	<div class="divider my-0"></div>

	<HorizontalCard
		title="Fast API Todo with IA integration"
		img="/todo-fastapi.webp"
		desc="Another Todo APP, but it's difference from others because use integration with IA to build resumes of your daily rutine and activities "
		url="https://github.com/carlosr301101/todo-backend-FastAPI"
		badge="FastAPI"
	/>
	<div class="divider my-0"></div>
	<HorizontalCard
		title="int64grep"
		img="/int64grep.webp"
		desc="It's a new flavour of grep, builded in Rust, to enhance speed and relaibility."
		url="https://crates.io/crates/int64grep"
		badge="Rust"
	/>
	<HorizontalCard
		title="neutron-diffusion-dd-rust"
		img="/first-approach-to-optimize-precision-for-classical-1-dimensional-neutron-diffusion-problems.webp"
		desc="1-D Neutron Diffusion Solver using the Diamond Difference Method implemented in Rust. This project aims to provide a fast and reliable tool for simulating neutron transport in nuclear reactors, leveraging Rust's performance and safety features."
		url="https://crates.io/crates/neutron-diffusion-dd"
		badge="Rust"
		loading="eager"
	/>

	<div>
		<div class="mb-5 mt-10 w-full text-3xl font-bold">Latest from blog ğŸ“</div>
	</div>

	{
		last_posts.map((post) => (
			<>
				<HorizontalCard
					title={post.data.title}
					img={post.data.heroImage}
					desc={post.data.description}
					url={'/blog/' + createSlug(post.data.title, post.slug)}
					target="_self"
					badge={post.data.badge}
				/>
				<div class="divider my-0" />
			</>
		))
	}
</BaseLayout>
