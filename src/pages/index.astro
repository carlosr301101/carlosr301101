---
import BaseLayout from '../layouts/BaseLayout.astro'
import HorizontalCard from '../components/HorizontalCard.astro'
import { getCollection } from 'astro:content'
import createSlug from '../lib/createSlug'

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
)

const last_posts = posts.slice(0, 3)
---

<BaseLayout sideBarActiveItemID="home">
	<div class="mt-5 pb-12">
		<div class="py-1 text-xl">Hey there ðŸ‘‹</div>
		<div class="text-5xl font-bold">I'm Carlos Rafael</div>
		<div class="py-3 text-3xl font-bold">Nuclear and Power Engineer and Software Developer</div>
		<div class="py-2">
			<text class="text-lg">
				Bridging the gap between nuclear science and cutting-edge software development. Passionate
				about solving complex problems through code and advancing <b>Math</b> and <b>Physics.</b>
			</text>
		</div>
		<div class="mt-8">
			<a
				class="btn"
				href="mailto:carlosr301101@gmail.com?subject=Let's make a contact"
				target="_blank"
			>
				Let's connect!</a
			>
		</div>
	</div>

	<div>
		<div class="mb-2 w-full text-3xl font-bold">My last projects {'</>'}</div>
	</div>

	<HorizontalCard
		title="Fast API Todo with IA integration"
		img="/todo-fastapi.png"
		desc="Another Todo APP, but it's difference from others because use integration with IA to build resumes of your daily rutine and activities "
		url="https://github.com/carlosr301101/todo-backend-FastAPI"
		badge="FastAPI"
		
	/>
	<div class="divider my-0"></div>
	<HorizontalCard
		title="int64grep"
		img="/int64grep.png"
		desc="It's a new flavour of grep, builded in Rust, to enhance speed and relaibility."
		url="https://crates.io/crates/int64grep"
		badge="Rust"
	/>
	<div class="divider my-0"></div>
	<HorizontalCard
		title="Demo Project 3"
		img="/post_img.webp"
		desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
		url="#"
		badge="FOSS"
	/>

	<div>
		<div class="mb-5 mt-10 w-full text-3xl font-bold">Latest from blog</div>
	</div>

	{
		last_posts.map((post) => (
			<>
				<HorizontalCard
					title={post.data.title}
					img={post.data.heroImage}
					desc={post.data.description}
					url={'/blog/' + createSlug(post.data.title, post.slug)}
					target="_self"
					badge={post.data.badge}
				/>
				<div class="divider my-0" />
			</>
		))
	}
</BaseLayout>
